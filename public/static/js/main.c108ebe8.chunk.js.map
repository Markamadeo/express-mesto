{"version":3,"sources":["components/Footer/Footer.js","images/header__logo.svg","components/Header/Header.js","components/ImagePopup/ImagePopup.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","utils/api.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","src","logo","alt","ImagePopup","props","isOpen","type","onClick","onClose","card","link","name","CurrentUserContext","createContext","Card","onClickCard","onCardLike","onCardDelete","currentUser","useContext","isLiked","likes","some","i","_id","cardLikeButtonClassName","isOwn","owner","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","api","config","this","baseUrl","headers","fetch","then","res","ok","json","Promise","reject","status","catch","err","alert","userInfo","method","body","JSON","stringify","data","id","console","log","authorization","PopupWithForm","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarLink","useRef","current","ref","placeholder","AddPlacePopup","placeName","placeLink","App","setCards","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isPhotoViewerOpen","setIsPhotoViewer","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","initialCards","dataCards","getUserInfo","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","sendProfileInfo","changeAvatar","sendNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c108ebe8.chunk.js","sourcesContent":["function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/header__logo.c2821b38.svg\";","import logo from \"../../images/header__logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <section className=\"header header_shift_down header_shift_up\">\r\n      <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`form form_type_foto-viewer ${\r\n        props.isOpen && \"form_status_active\"\r\n      }`}\r\n    >\r\n      <figure className=\"form__container form__container_type_foto-viewer\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n          className=\"form__close-button form__close-button_type_foto-viewer-close-button\"\r\n        ></button>\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"form__foto-viewer-img\"\r\n        />\r\n        <figcaption className=\"form__foto-viewer-description\">\r\n          {props.card.name}\r\n        </figcaption>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import { createContext } from \"react\";\r\nconst CurrentUserContext = createContext();\r\nexport default CurrentUserContext;\r\n","import CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\nimport { useContext } from \"react\";\r\n\r\nfunction Card({ card, onClickCard, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `gallery-item__heart-button ${\r\n    isLiked && \"gallery-item__heart-button_type_active\"\r\n  }`;\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  function handleClick() {\r\n    onClickCard(card);\r\n  }\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n  function handleDeleteCardClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"gallery-item\">\r\n      {isOwn && (\r\n        <button\r\n          onClick={handleDeleteCardClick}\r\n          type=\"button\"\r\n          className=\"gallery-item__trash-button\"\r\n        ></button>\r\n      )}\r\n      <img\r\n        onClick={handleClick}\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"gallery-item__image\"\r\n      />\r\n      <div className=\"gallery-item__content\">\r\n        <h2 className=\"gallery-item__title\">{card.name}</h2>\r\n        <div className=\"gallery-item__like-container\">\r\n          <button\r\n            onClick={handleLikeClick}\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n          ></button>\r\n          <p className=\"gallery-item__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import { useContext } from \"react\";\r\nimport Card from \"../Card/Card\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <div className=\"page__container\">\r\n      <section className=\"profile profile_shift_down\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Аватар\"\r\n            className=\"profile__image\"\r\n          />\r\n          <button\r\n            onClick={props.onEditAvatar}\r\n            className=\"profile__avatar-button\"\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info-container\">\r\n          <div className=\"profile__info-container-item\">\r\n            <h1 className=\"profile__full-name\">{currentUser.name}</h1>\r\n            <button\r\n              onClick={props.onEditProfile}\r\n              type=\"button\"\r\n              className=\"profile__edit-botton\"\r\n            ></button>\r\n          </div>\r\n          <div className=\"profile__info-container-item\">\r\n            <p className=\"profile__description\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={props.onAddPlace}\r\n          type=\"button\"\r\n          className=\"profile__add-botton\"\r\n        ></button>\r\n      </section>\r\n      <ul className=\"gallery gallery_shift_down\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onClickCard={props.onClickCard}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","class Api {\r\n  constructor(config) {\r\n    this.baseUrl = config.baseUrl;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this.baseUrl + \"/users/me\", { headers: this.headers })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(\r\n          `Ошибка: не удалось загрузить данные пользователя, статус ${res.status}`\r\n        );\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n\r\n  initialCards() {\r\n    return fetch(this.baseUrl + \"/cards\", { headers: this.headers })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(\r\n          `Ошибка: не удалось загрузить данные галереи, статус ${res.status}`\r\n        );\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n\r\n  sendProfileInfo(userInfo) {\r\n    return fetch(this.baseUrl + \"/users/me\", {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify(userInfo),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(\r\n          `Ошибка: не удалось отправить данные пользователя на сервер, статус ${res.status}`\r\n        );\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n\r\n  sendNewCard(data) {\r\n    return fetch(this.baseUrl + \"/cards\", {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(\r\n          `Ошибка: не удалось отправить данные карточки на сервер, статус ${res.status}`\r\n        );\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(this.baseUrl + `/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          console.log(\"Карточка удалена!\");\r\n        } else {\r\n          return Promise.reject(\r\n            `Ошибка: не удалось удалить карточку на сервере, статус ${res.status}`\r\n          );\r\n        }\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n\r\n  changeLikeCardStatus(id, status) {\r\n    if (status) {\r\n      return fetch(this.baseUrl + `/cards/likes/${id}`, {\r\n        method: \"PUT\",\r\n        headers: this.headers,\r\n      })\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          } else {\r\n            return Promise.reject(\r\n              `Ошибка: не удалось поставить like, статус ${res.status}`\r\n            );\r\n          }\r\n        })\r\n        .catch((err) => alert(err));\r\n    } else if (!status) {\r\n      return fetch(this.baseUrl + `/cards/likes/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: this.headers,\r\n      })\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          } else {\r\n            return Promise.reject(\r\n              `Ошибка: не удалось снять like, статус ${res.status}`\r\n            );\r\n          }\r\n        })\r\n        .catch((err) => alert(err));\r\n    }\r\n  }\r\n\r\n  changeAvatar(link) {\r\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(\r\n          `Ошибка: не удалось отправить аватар пользователя на сервер, статус ${res.status}`\r\n        );\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-17\",\r\n  headers: {\r\n    authorization: \"ce46bc36-f433-488f-bf62-df1955cfcd45\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`form form_type_${props.name} ${\r\n        props.isOpen && \"form_status_active\"\r\n      }`}\r\n    >\r\n      <form\r\n        onSubmit={props.onSubmit}\r\n        className=\"form__container form__container_type_submit-form\"\r\n        name={`${props.name}Popup`}\r\n        noValidate\r\n      >\r\n        <button\r\n          onClick={props.onClose}\r\n          type=\"button\"\r\n          className=\"form__close-button\"\r\n        ></button>\r\n        <h2 className=\"form__title\">{props.title}</h2>\r\n        {props.children}\r\n        <button\r\n          name={`${props.name}Submit`}\r\n          type=\"submit\"\r\n          className=\"form__submit-button\"\r\n        >\r\n          {props.buttonText}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name=\"edit\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <div className=\"form__input-container\">\r\n        <input\r\n          value={name}\r\n          onChange={(e) => {\r\n            setName(e.target.value);\r\n          }}\r\n          name=\"fullName\"\r\n          type=\"text\"\r\n          className=\"form__textinput form__textinput_type_edit-full-name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n        />\r\n        <span className=\"form__error\" id=\"fullName-error\"></span>\r\n      </div>\r\n      <div className=\"form__input-container\">\r\n        <input\r\n          value={description}\r\n          onChange={(e) => {\r\n            setDescription(e.target.value);\r\n          }}\r\n          name=\"description\"\r\n          type=\"text\"\r\n          className=\"form__textinput form__textinput_type_edit-description\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n        />\r\n        <span className=\"form__error\" id=\"description-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarLink = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(avatarLink.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      name=\"change-avatar\"\r\n      title=\"Обновить Аватар\"\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <div className=\"form__input-container\">\r\n        <input\r\n          ref={avatarLink}\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          className=\"form__textinput form__textinput_type_change-avatar\"\r\n          placeholder=\"Ссылка на Аватар\"\r\n          required\r\n        />\r\n        <span className=\"form__error\" id=\"avatar-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const placeName = useRef();\r\n  const placeLink = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: placeName.current.value,\r\n      link: placeLink.current.value,\r\n    });\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"adding\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Новое место\"\r\n      buttonText=\"Добавить\"\r\n    >\r\n      <div className=\"form__input-container\">\r\n        <input\r\n          ref={placeName}\r\n          name=\"name\"\r\n          type=\"text\"\r\n          className=\"form__textinput form__textinput_type_adding-name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n        />\r\n        <span className=\"form__error\" id=\"name-error\"></span>\r\n      </div>\r\n      <div className=\"form__input-container\">\r\n        <input\r\n          ref={placeLink}\r\n          name=\"link-address\"\r\n          type=\"url\"\r\n          className=\"form__textinput form__textinput_type_adding-link-address\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span className=\"form__error\" id=\"link-address-error\"></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import { useState, useEffect } from \"react\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport Header from \"./Header/Header\";\r\nimport ImagePopup from \"./ImagePopup/ImagePopup\";\r\nimport Main from \"./Main/Main\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"../components/EditProfilePopup/EditProfilePopup\";\r\nimport EditAvatarPopup from \"../components/EditAvatarPopup/EditAvatarPopup\";\r\nimport AddPlacePopup from \"../components/AddPlacePopup/AddPlacePopup\";\r\n\r\nfunction App() {\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isPhotoViewerOpen, setIsPhotoViewer] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    link: \"#\",\r\n    name: \"\",\r\n  });\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: \"\",\r\n    about: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    api.initialCards().then((dataCards) => {\r\n      setCards(dataCards);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api.getUserInfo().then((data) => {\r\n      setCurrentUser(data);\r\n    });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then((newCard) => {\r\n      const newCards = cards.filter((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardPhotoClick(card) {\r\n    setIsPhotoViewer(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(userInfo) {\r\n    api.sendProfileInfo(userInfo).then((data) => {\r\n      setCurrentUser(data);\r\n    });\r\n    closeAllPopups();\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    api.changeAvatar(link).then((data) => {\r\n      setCurrentUser(data);\r\n    });\r\n    closeAllPopups();\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api.sendNewCard(data).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n    });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsPhotoViewer(false);\r\n    setSelectedCard({\r\n      link: \"#\",\r\n      name: \"\",\r\n    });\r\n  }\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <main className=\"page\">\r\n          <Header />\r\n          <Main\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onClickCard={handleCardPhotoClick}\r\n          />\r\n          <Footer />\r\n        </main>\r\n\r\n        <EditProfilePopup\r\n          onUpdateUser={handleUpdateUser}\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <ImagePopup\r\n          isOpen={isPhotoViewerOpen}\r\n          onClose={closeAllPopups}\r\n          card={selectedCard}\r\n        ></ImagePopup>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./index.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}